<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>루닝서비스ㅣLUNING SERVICE</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='icon.ico') }}">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
    		#load {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    position: fixed;
    display: block;
    opacity: 0.8;
    background: rgb(0, 0, 0, 0.5);
    z-index: 99;
    text-align: center;
}

#load > img {
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 100;
}
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600&display=swap');
        
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        body{
            background: #E3F2FD;
        }
        .select-menu{
            width: 380px;
            margin: 60px auto;
            /* position: absolute;
            left:50%;
            transform: translate(-50%,-50%); */
        }
        
        .select-menu .select-btn{
            display: flex;
            height: 55px;
            background: #fff;
            padding: 20px;
            font-size: 18px;
            font-weight: 400;
            border-radius: 8px;
            align-items: center;
            cursor: pointer;
            justify-content: space-between;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }
        .select-btn i{
            font-size: 25px;
            transition: 0.3s;
        }
        
        .select-menu .options{
            position: relative;
            padding: 20px;
            margin-top: 10px;
            border-radius: 8px;
            background: #fff;
            box-shadow: 0 0 3px rgba(0,0,0,0.1);
            display: none;
        }
        .select-menu.active .options{
            display: block;
        }
        .select-menu2{
            width: 380px;
            margin: 60px auto;
            /* position: absolute;
            left:50%;
            transform: translate(-50%,-50%); */
        }
        
        .select-menu2 .select-btn{
            display: flex;
            height: 55px;
            background: #fff;
            padding: 20px;
            font-size: 18px;
            font-weight: 400;
            border-radius: 8px;
            align-items: center;
            cursor: pointer;
            justify-content: space-between;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }
        
        .select-menu2 .options{
            position: relative;
            padding: 20px;
            margin-top: 10px;
            border-radius: 8px;
            background: #fff;
            box-shadow: 0 0 3px rgba(0,0,0,0.1);
            display: none;
        }
        .select-menu2.active .options{
            display: block;
        }
        /* ##################### */
        .select-menu3{
            width: 380px;
            margin: 60px auto;
        }
        
        .select-menu3 .select-btn{
            display: flex;
            height: 55px;
            background: #fff;
            padding: 20px;
            font-size: 18px;
            font-weight: 400;
            border-radius: 8px;
            align-items: center;
            cursor: pointer;
            justify-content: space-between;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }
        
        .select-menu3 .options{
            position: relative;
            padding: 20px;
            margin-top: 10px;
            border-radius: 8px;
            background: #fff;
            box-shadow: 0 0 3px rgba(0,0,0,0.1);
            display: none;
        }
        .select-menu3.active .options{
            display: block;
        }
        .select-menu4{
            width: 380px;
            margin: 60px auto;
        }
        
        .select-menu4 .select-btn{
            display: flex;
            height: 55px;
            background: #fff;
            padding: 20px;
            font-size: 18px;
            font-weight: 400;
            border-radius: 8px;
            align-items: center;
            cursor: pointer;
            justify-content: space-between;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }
        
        .select-menu4 .options{
            position: relative;
            padding: 20px;
            margin-top: 10px;
            border-radius: 8px;
            background: #fff;
            box-shadow: 0 0 3px rgba(0,0,0,0.1);
            display: none;
        }
        .select-menu4.active .options{
            display: block;
        }
        .options .option{
            display: flex;
            height: 55px;
            cursor: pointer;
            padding: 0 16px;
            border-radius: 8px;
            align-items: center;
            background: #fff;
        }
        .options .option:hover{
            background: #F2F2F2;
        }
        .option i{
            font-size: 25px;
            margin-right: 12px;
        }
        .option .option-text{
            font-size: 18px;
            color: #333;
            margin-right:5px;
        }
        body{
            background-color: #dee9ff;
        }
        
        .registration-form{
            padding: 50px 0;
        }
        
        .registration-form form{
            background-color: #fff;
            max-width: 600px;
            margin: auto;
            padding: 50px 70px;
            border-top-left-radius: 30px;
            border-top-right-radius: 30px;
            box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.075);
        }
        
        .registration-form .form-icon{
            text-align: center;
            background-color: #5891ff;
            border-radius: 50%;
            font-size: 40px;
            color: white;
            width: 100px;
            height: 100px;
            margin: auto;
            margin-bottom: 50px;
            line-height: 100px;
        }
        
        .registration-form .item{
            border-radius: 20px;
            margin-bottom: 25px;
            padding: 10px 20px;
        }
        .h1_def{
            font-weight: 100;
            border: none;
            font-size:30px;
            color: rgb(22, 22, 22);
            text-align: center;
        }
        .registration-form .create-account{
            border-radius: 30px;
            padding: 10px 20px;
            font-size: 18px;
            font-weight: bold;
            background-color: #5791ff;
            border: none;
            color: white;
            margin-top: 20px;
        }
        
        .registration-form .social-media{
            max-width: 600px;
            background-color: #fff;
            margin: auto;
            padding: 35px 0;
            text-align: center;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            color: #9fadca;
            border-top: 1px solid #dee9ff;
            box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.075);
        }
        
        
        .registration-form .social-icons a{
            font-size: 23px;
            margin: 0 3px;
            color: #5691ff;
            width: 45px;
            display: inline-block;
            height: 45px;
            text-align: center;
            background-color: #fff;
            line-height: 45px;
        }
        
        .registration-form .social-icons a:hover{
            text-decoration: none;
            opacity: 0.6;
        }
        
        @media (max-width: 576px) {
            .registration-form form{
                padding: 50px 20px;
            }
        
            .registration-form .form-icon{
                width: 70px;
                height: 70px;
                font-size: 30px;
                line-height: 70px;
            }
        }
        ul,li {list-style:none;}
        
        /*tab css*/
        .tabnav li{display: inline-block;  height:46px; text-align:center; border-right:1px solid #ddd;}
        .tabnav li a:before{content:""; position:absolute; left:0; top:0px; width:100%; height:2px; }
        .tabnav li a.active:before{background:#5791ff;}
        .tabnav li a.active{border-bottom:1px solid #fff;}
        .tabnav li a{ position:relative; display:block; background: #f8f8f8; color: #000; padding:0 30px; line-height:46px; text-decoration:none; font-size:16px;}
        .tabnav li a.active{background:#fff; color:#000000; }
            </style>
        <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>

</head>

<body>
	<div id="load">
		<img src="{{ url_for('static', filename='load.gif') }}" alt="loading">
	</div>

    <div class="registration-form">
        <form id="setinfo">
            <h5 class="h1_def">고양이 드링크 수정</h5>
            <div class="form-group">
                <input type="text" class="form-control item"id="txt1" placeholder="게임버전">
            </div>
            <div class="form-group">
                <input type="text" class="form-control item" id="txt2" placeholder="이어하기코드">
            </div>
            <div class="form-group">
                <input type="text" class="form-control item" id="txt3"placeholder="인증번호">
            </div>
            <div class="form-group">
                <input type="text" class="form-control item" id="txt4"placeholder="수정할 드링크 갯수">
            </div>
            <input type="hidden" id="txt5">

                    <div class="select-menu">
                        <div class="select-btn">
                            <span class="sBtn-text">옵션을 선택해주세요.(중복가능)</span>
                            <i class="bx bx-chevron-down" style="color:#000"></i>
                        </div>
                        <ul class="options">
                            <li class="option">
                                <img src="{{ url_for('static', filename='img/드링크.png') }}" style="width:13%;">
                                
                                <span class="option-text" data-name="0">고양이드링크 A</span>
                            </li>
                            <li class="option">
                                <img src="{{ url_for('static', filename='img/드링크B.png') }}" style="width:13%;">
                                <span class="option-text" data-name="1">고양이드링크 B</span>
                            </li>
                            <li class="option">
                                <img src="{{ url_for('static', filename='img/드링크C.png') }}" style="width:13%;">
                                <span class="option-text" data-name="2">고양이드링크 C</span>
                            </li>
                        </ul>
                        </div>
            <div class="form-group">
                <button type="button"  id="btn1" class="btn btn-block create-account">EDIT</button>
            </div>

        </form>
        <div class="social-media">
            <div class="social-icons" style="color: #000 !important;">
                <a href="/myaccount"><i class="bi bi-person-circle" title="내 계정정보"></i></a>
                <a href="/edit"><i class="bi bi-wrench-adjustable" title="에딧 대시보드"></i></a>
                <a href="/history"><i class="bi bi-clock-history" title="히스토리"></i></a>
                <a href="/contact"><i class="bi bi-chat-left-text" title="문의하기"></i></a>
                <a href="/help"><i class="bi bi-question-circle" title="사용 도움말"></i></a>
                <a href="/logout"><i class="bi bi-box-arrow-left" title="로그아웃"></i></a>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
    <script>
        $(function(){
          $('.tabcontent > div').hide();
          $('.tabnav a').click(function () {
            $('.tabcontent > div').hide().filter(this.hash).fadeIn();
            $('.tabnav a').removeClass('active');
            $(this).addClass('active');
            return false;
          }).filter(':eq(0)').click();
          });
          const optionMenu = document.querySelector(".select-menu"),
            selectBtn = optionMenu.querySelector(".select-btn"),
            options = optionMenu.querySelectorAll(".option"),
            sBtn_text = optionMenu.querySelector(".sBtn-text");
        
            selectBtn.addEventListener("click", () => optionMenu.classList.toggle("active"));
        
        let selectedValues = [];
        
        options.forEach(option => {
          option.addEventListener("click", () => {
            let hrefname = parseInt(option.querySelector(".option-text").getAttribute('data-name'), 10);
            let checkIcon = option.querySelector(".bi-check-circle-fill");
            if (selectedValues.includes(hrefname)) {
              option.classList.remove("selected");
              selectedValues = selectedValues.filter(val => val !== hrefname);
              if (checkIcon) {
                checkIcon.style.display = "none";
              }
            } else {
              option.classList.add("selected");
              selectedValues.push(hrefname);
              if (!checkIcon) {
                checkIcon = document.createElement("i");
                checkIcon.className = "bi bi-check-circle-fill";
                checkIcon.style.color = "#5891ff"; // 색상 설정
        
                option.appendChild(checkIcon);
              } else {
                checkIcon.style.display = "inline-block";
              }
            }
            document.querySelector("#txt5").value = JSON.stringify(selectedValues);
            optionMenu.classList.remove("active");
          });
        });
        
              
        $(window).on('load', function() {
            $('#load').hide();
        });
        
        $( "#btn1" ).click(function() {
            var postdata = {
                'num1':$('#txt1').val(),
                'num2':$('#txt2').val(),
                'num3':$('#txt3').val(),
                'num4':$('#txt4').val(),
                'num5':$('#txt5').val(),
            }
            $('#load').show();
            <!--alert( "Handler for .click() called." );-->
            $.ajax({
                type: 'POST',
                url: '{{url_for("catamin")}}',
                data: JSON.stringify(postdata),
                dataType : 'JSON',
                contentType: "application/json",
                success: function(data){
                    $('#load').hide();
                    if (data['result'] == true){
                        location.href='/history'
                    }
                    else{
                        alert("오류가 발생했습니다. 사유 : " + data['info'])
                    }
                },
                error: function(request, status, error){
                    alert("알 수 없는 오류 발생")
                }
            })
        });
        
                </script>
</body>
</html>
